import { MpZ } from "../src/mp";
import { assertSame } from "../src/assert";

function fact(n: u32): MpZ {
  let a = MpZ.from(1);
  for (let i: u32 = 1; i <= n; ++i) {
    a *= MpZ.from(i);
  }
  return a;
}

assertSame(fact(0), MpZ.from(1));
assertSame(fact(1), MpZ.from(1));
assertSame(fact(2), MpZ.from(2));
assertSame(fact(3), MpZ.from(6));

assertSame(fact(100),'0x1B30964EC395DC24069528D54BBDA40D16E966EF9A70EB21B5B2943A321CDF10391745570CCA9420C6ECB3B72ED2EE8B02EA2735C61A000000000000000000000000');
assertSame(fact(100) / fact(99), '0x64');
assertSame(fact(1000) / fact(999), '0x3E8');

assertSame(fact(100) / fact(9), '0x4E9145F7E9DA360B73BB78CA6774FBE755FB33BCC11246A23E27C7965F807C6F885831621EA407F48510911A4393CDEAE719FF57C0000000000000000000000');
assertSame(fact(1000) / fact(500), '0x420142702125EB052E1FE462D6F3AE4C62ACF923BED5E30E4C2D72444BFC59957A3A0EFE27F60442FD6783945DC0336560665ABEA9D38880C258EC792515925DA70827D6A6A71115AD750E0E85073078B8F307FCDA96465F601B97A5D5D0BE16D6768C66CFBAAD2DD365A62290AAFD36FC44994A2117947C98BBCCF34D86A31C2B45CB1527D0C66463F4198F7237C10889A922AF50EB0694A53F010FC0EC4B41F7154A105870DC53080CFACD32D73BA9D77E018771BA026572BD9FB00FCCFBBD715771CC4A1010CA4E21E70C19AFE53523CB86608626513D273BF346444D5982D5C583E0EF2966246601FEB51141C381E95EDDEAEE6D5B9C418211DF988E209049CABDCF67352CF31FE0778D70F361D00722210C073A942371E7509268A9023B1CB578268B3F7B6608F2658E0C12913EA84D530A4304961395A15E55F8B4AD13A3B5983FD1FF1A1505FF7FEA45C1F5AD1533D003E534F9FB26A366044E733EAD4EE36927CC17A98E1C5474DFCB6CA3C706CC1E45F421590DC7169784FC31EDC6FEABF40D46C8E4BB82E6538E6C45AF4040A6D1B949F18A54359ED98BCA1908319F241C143278955B9C1ACE7CD3F1A39CCC5EC0704AE5574D94F40F644FFBB9FF6F8E31B9F0E82B0368BB99FFE642AE3BEE00745E52AE58E1CD17D146763162229DD50865F0697990BE770EBCC64B350DC1073788256028C26942DC1DC75B90209A58CB97F6AB530EE4F8BF239B3BBC07677C53E04900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000');
